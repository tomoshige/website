# 講義18: 行列式の定義と基本性質

## 1. 講義概要
- **講義時間:** 60分　/　**演習時間:** 30分
- **目的:**  
  行列式の定義や基本的な性質（線形性、交代性、積の性質など）を理解し、1次、2次、3次の具体例や幾何的な解釈を通して、行列式が線形代数学において果たす役割を把握する。
- **今日の目標:**  
  ・行列式とは何か、その定義や計算方法（1次、2次、3次の場合）を明確にする。 
  ・Google Colab を利用して、実際に行列式を計算し、理論と実践の関係を確認する。

## 2. 理論的背景と内容の説明
### 2.1 定義・基本概念
- **行列式とは:**  
  行列式は、正方行列に対して定義される数値で、行列に対応する線形変換が空間の面積や体積をどのように拡大・縮小するか、またその変換の向きを反転するか（符号によって示される）を表す指標です。
- **行列式の定義（1次, 2次, 3次）:**  
  - **1次の行列式:**  
    $ A = (a) $ に対して、$\det(A) = a$ です。
  - **2次の行列式:**  
    $ A = \begin{pmatrix} a & b \\ c & d \end{pmatrix} $ に対して、  
    $$
    \det(A) = ad - bc.
    $$
  - **3次の行列式:**  
    $ A = \begin{pmatrix} a & b & c \\ d & e & f \\ g & h & i \end{pmatrix} $ に対して、  
    $$
    \det(A) = a(ei - fh) - b(di - fg) + c(dh - eg).
    $$
- **基本性質:**  
  行列式は以下の性質を持ちます。
  - **単位行列**: 単位行列$I$の行列式は$|I| =1$である
  - **線形性:** 行または列に関して線形である。  
  - **交代性:** 2つの行（または列）を入れ替えると符号が反転する。  

### 2.2 定理・命題
- **定理1: 逆行列の存在条件と行列式**  
  正方行列 $ A $ に対し、  
  $$
  A \text{ が正則} \quad \Longleftrightarrow \quad \det(A) \neq 0.
  $$
  つまり、行列式がゼロでなければ $ A $ は逆行列 $ A^{-1} $ を持ち、ゼロならば逆行列は存在しません。
  
- **定理2: 積の性質**  
  任意の正方行列 $ A $ と $ B $ に対して、  
  $$
  \det(AB) = \det(A) \det(B).
  $$
  この性質は、線形変換の面積・体積の拡大率が積で表されることと一致します。

- **命題: 幾何的解釈**  
  - 2次の行列式 $\det(A)$ は、2次元空間における対応する線形変換が単位正方形の面積をどのように拡大または縮小するか（または反転するか）を示し、絶対値が拡大率、符号が向きの反転を表します。  
  - 3次の行列式は、3次元空間における単位立方体の体積の拡大率と向き（右手系か左手系か）を示します。

### 2.3 数式・証明の詳細
- **1次・2次・3次の行列式の具体的な計算例:**  
  - **1次:**  
    $ A = (a) $ → $\det(A)=a$.  
  - **2次:**  
    $ A = \begin{pmatrix} a & b \\ c & d \end{pmatrix} $ →  
    $$
    \det(A) = ad - bc.
    $$
    この式は、行列の2つの行（または列）をスカラー倍し、交差する項を引くことで得られる。
  - **3次:**  
    $ A = \begin{pmatrix} a & b & c \\ d & e & f \\ g & h & i \end{pmatrix} $  
    の場合、 
    $$
    \det(A) = a(ei - fh) - b(di - fg) + c(dh - eg).
    $$
- **幾何的な解釈の詳細:**  
  - **2次の場合:**  
    $ A = \begin{pmatrix} a & b \\ c & d \end{pmatrix} $ において、  
    $ \det(A) $ の絶対値は、線形変換 $ A $ が単位正方形の面積を拡大・縮小したときの面積（= $ |ad - bc| $ ）となる。  
    例えば、2つのベクトル $ \mathbf{v}_1 = \begin{pmatrix} a \\ c \end{pmatrix} $ と $ \mathbf{v}_2 = \begin{pmatrix} b \\ d \end{pmatrix} $ により生成される平行四辺形の面積は $ |ad - bc| $ となる。
  - **3次の場合:**  
    同様に、3つのベクトル $ \mathbf{v}_1, \mathbf{v}_2, \mathbf{v}_3 $ により張られる平行六面体の体積は、  
    $ |\det(A)| $ によって表され、符号は空間の向き（右手系・左手系）を反映する。


## 3. 扱う内容の実例（GPT, Colab等は使用せず）
- **実例1: 2次の行列式の計算**  
  例として、  
  $$
  A = \begin{pmatrix} 3 & 4 \\ 2 & 5 \end{pmatrix}
  $$
  の行列式は、  
  $$
  \det(A) = 3 \times 5 - 4 \times 2 = 15 - 8 = 7.
  $$
  この計算により、行列 $ A $ が単位正方形の面積を7倍に拡大する線形変換であることが分かります。

- **実例2: 3次の行列式の計算**  
  例として、  
  $$
  B = \begin{pmatrix} 1 & 2 & 3 \\ 0 & 4 & 5 \\ 1 & 0 & 6 \end{pmatrix}
  $$
  の行列式を計算すると、  
  $$
  \det(B) = 1(4 \times 6 - 5 \times 0) - 2(0 \times 6 - 5 \times 1) + 3(0 \times 0 - 4 \times 1) = 24 + 10 - 12 = 22.
  $$
  幾何的には、この値の絶対値 $ |22| $ は $ B $ が単位立方体の体積を22倍に拡大することを示します。

#### 3.1. 単位行列の行列式
- **2次の場合:**  
  単位行列  
  $$
  I_2 = \begin{pmatrix} 1 & 0 \\ 0 & 1 \end{pmatrix}
  $$
  の行列式は  
  $$
  \det(I_2) = 1 \times 1 - 0 \times 0 = 1.
  $$
- **3次の場合:**  
  単位行列  
  $$
  I_3 = \begin{pmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 1 \end{pmatrix}
  $$
  の行列式は  
  $$
  \det(I_3) = 1.
  $$

#### 3.2. 線形性（行または列についての線形性）
行列式は、任意の行（または列）に対して線形な写像です。  
具体例として、2次の行列で考えます。

- **2次の例:**  
  次の2×2行列を考えます。  
  $$
  A = \begin{pmatrix}
  (1+2) & (3+4) \\
  5     & 6
  \end{pmatrix}.
  $$
  ここで、行1の各要素はそれぞれ \(1+2\) と \(3+4\) の和になっています。  
  線形性により、  
  $$
  \det(A) = \det\left(\begin{pmatrix} 1 & 3 \\ 5 & 6 \end{pmatrix}\right) + \det\left(\begin{pmatrix} 2 & 4 \\ 5 & 6 \end{pmatrix}\right).
  $$
  個別に計算すると、  
  - \( \det\begin{pmatrix} 1 & 3 \\ 5 & 6 \end{pmatrix} = 1\times6 - 3\times5 = 6 - 15 = -9 \),  
  - \( \det\begin{pmatrix} 2 & 4 \\ 5 & 6 \end{pmatrix} = 2\times6 - 4\times5 = 12 - 20 = -8 \).  
  よって、合計は \(-9 + (-8) = -17\)。  
  なお、直接計算すると、  
  $$
  A = \begin{pmatrix} 3 & 7 \\ 5 & 6 \end{pmatrix}, \quad \det(A) = 3\times6 - 7\times5 = 18 - 35 = -17.
  $$
  これにより、行1の和の線形性が確認できます。

- **3次の例:**  
  3次の行列でも、例えば1列目が2つの列の和である場合、  
  $$
  B = \begin{pmatrix}
  1+2 & b_{12} & b_{13} \\
  3+4 & b_{22} & b_{23} \\
  5+6 & b_{32} & b_{33}
  \end{pmatrix},
  $$
  は、線形性により  
  $$
  \det(B) = \det\begin{pmatrix} 1 & b_{12} & b_{13} \\ 3 & b_{22} & b_{23} \\ 5 & b_{32} & b_{33} \end{pmatrix} + \det\begin{pmatrix} 2 & b_{12} & b_{13} \\ 4 & b_{22} & b_{23} \\ 6 & b_{32} & b_{33} \end{pmatrix}.
  $$
  具体の数値を入れて確認すると、各部分の行列式の和が元の行列式に一致することがわかります（詳細な計算は演習問題として提示可能です）。

#### 3.3. 交代性（行または列の交換による符号反転）
- **2次の例:**  
  2×2行列  
  $$
  A = \begin{pmatrix} 2 & 3 \\ 4 & 5 \end{pmatrix}
  $$
  の行列式は  
  $$
  \det(A) = 2\times5 - 3\times4 = 10 - 12 = -2.
  $$
  ここで、行を入れ替えた行列  
  $$
  A' = \begin{pmatrix} 4 & 5 \\ 2 & 3 \end{pmatrix}
  $$
  の行列式は  
  $$
  \det(A') = 4\times3 - 5\times2 = 12 - 10 = 2.
  $$
  元の行列式の符号が反転していることが確認できます。

- **3次の例:**  
  3×3行列  
  $$
  C = \begin{pmatrix}
  1 & 2 & 3 \\
  4 & 5 & 6 \\
  7 & 8 & 9
  \end{pmatrix}
  $$
  は、実は \(\det(C)=0\) ですが、交代性の性質を示すために、別の行列を考えます。  
  例えば、  
  $$
  D = \begin{pmatrix}
  1 & 2 & 3 \\
  0 & 4 & 5 \\
  1 & 0 & 6
  \end{pmatrix}.
  $$
  計算すると、  
  $$
  \det(D) = 1(4\times6 - 5\times0) - 2(0\times6 - 5\times1) + 3(0\times0 - 4\times1) = 24 + 10 - 12 = 22.
  $$
  次に、例えば行1と行2を入れ替えた行列  
  $$
  D' = \begin{pmatrix}
  0 & 4 & 5 \\
  1 & 2 & 3 \\
  1 & 0 & 6
  \end{pmatrix}
  $$
  の行列式は、計算すると  
  $$
  \det(D') = -22,
  $$
  となり、行交換により符号が反転する性質が確認されます。

以上の例を通して、行列式の「単位行列の行列式は1」「線形性」「交代性」の3つの基本性質が、具体的な2次および3次の行列で確認できることが分かります。

#### 3.4 積の行列式

例として、以下の2×2行列 \(A\) と \(B\) を考えます。
$$
A = \begin{pmatrix} 2 & 3 \\ 1 & 4 \end{pmatrix}, \quad
B = \begin{pmatrix} 5 & 6 \\ 7 & 8 \end{pmatrix}.
$$

まず、それぞれの行列式を計算します。

- \(A\) の行列式:
  $$
  \det(A) = 2\cdot4 - 3\cdot1 = 8 - 3 = 5.
  $$

- \(B\) の行列式:
  $$
  \det(B) = 5\cdot8 - 6\cdot7 = 40 - 42 = -2.
  $$

したがって、行列式の積は
$$
\det(A)\det(B) = 5 \times (-2) = -10.
$$

次に、行列の積 \(AB\) を計算します。

$$
AB = \begin{pmatrix}
2\cdot5+3\cdot7 & 2\cdot6+3\cdot8 \\
1\cdot5+4\cdot7 & 1\cdot6+4\cdot8
\end{pmatrix}
= \begin{pmatrix}
10+21 & 12+24 \\
5+28 & 6+32
\end{pmatrix}
= \begin{pmatrix}
31 & 36 \\
33 & 38
\end{pmatrix}.
$$

この積 \(AB\) の行列式を求めると、

$$
\det(AB) = 31\cdot38 - 36\cdot33 = 1178 - 1188 = -10.
$$

このように、\( \det(AB) = -10 \) は \( \det(A) \cdot \det(B) = 5 \times (-2) = -10 \) と一致するため、行列の積の行列式がそれぞれの行列の行列式の積であることが具体例から確認できます。


## 4. ChatGPTによる解説＋Colabでの実行例
- **ChatGPT解説:**  
  行列式は、線形変換が空間の面積や体積をどの程度拡大・縮小するかを示す重要な概念です。  
  1次、2次、3次の行列式の計算方法はそれぞれ単純な形をとり、特に2次・3次の場合は、幾何的な解釈（面積・体積の拡大率）と深く関わっています。  
  Google Colab を利用すれば、Python の NumPy ライブラリで簡単に行列式を計算でき、視覚的にもその意味を確認できます。
- **Colab実行例:** 以下に、1次、2次、3次の行列式を計算するサンプルコードを示します。
  ```python
  import numpy as np

  # 1次の行列
  A1 = np.array([[7]])
  print("1次行列 A1 =", A1)
  print("det(A1) =", np.linalg.det(A1))
  print()

  # 2次の行列
  A2 = np.array([[3, 4],
                 [2, 5]])
  print("2次行列 A2 =\n", A2)
  print("det(A2) =", np.linalg.det(A2))
  print()

  # 3次の行列
  A3 = np.array([[1, 2, 3],
                 [0, 4, 5],
                 [1, 0, 6]])
  print("3次行列 A3 =\n", A3)
  print("det(A3) =", np.linalg.det(A3))
  ```
  このコードを実行すると、それぞれの行列に対する行列式が出力され、理論と実践が一致することを確認できます。

## 5. 学んだ内容の応用例（optional)
- **応用分野:**  
  - **線形代数の基礎:** 逆行列の計算、連立方程式の解法、固有値問題など。  
  - **幾何学:** 線形変換が面積・体積をどの程度変化させるかの解析。  
  - **統計解析:** 多変量解析における変数変換、確率密度関数の変換など。  
  - **コンピュータグラフィックス:** 変換行列を用いた画像のスケーリングや回転の計算。
- **具体例:**  
  行列式は、Cramer の公式による連立方程式の解法や、変数変換のヤコビアンとしても利用され、これらの応用は機械学習やシミュレーションにも広く使われています。

## 6. 演習問題
- **問題1:**  
  以下の各行列の行列式を計算せよ。  
  1. $ A_1 = (5) $  
  2. $ A_2 = \begin{pmatrix} 2 & 3 \\ 1 & 4 \end{pmatrix} $  
  3. $ A_3 = \begin{pmatrix} 1 & 2 & 3 \\ 0 & 1 & 4 \\ 5 & 6 & 0 \end{pmatrix} $  
  *【ヒント】* 各定義に基づいて直接計算する。

- **問題2:**  
  2次の行列の行列式が、その行列に対応する線形変換が単位正方形の面積をどの程度拡大・縮小するかを示すことを、図を用いて説明せよ。  
  *【ヒント】* 平行四辺形の面積の計算と比較せよ。

- **問題3:**  
  3次の行列の行列式の絶対値が、3次元空間における体積の拡大率を示すことを、具体的な数値例を用いて証明せよ。  
  *【ヒント】* $ \det(A) $ の計算結果と、3つのベクトルが張る平行六面体の体積の関係に注目すること。

## 付録・参考資料
- **参考文献:**  
  - 『線形代数学入門』、『数理線形代数学』  
  - オンライン教材: Khan Academy, MIT OpenCourseWare, Coursera
- **補足資料:**  
  - 詳細な解説スライド  
  - 追加例題とその解答例  
  - FAQ: 行列式の計算方法、幾何的解釈に関する質問